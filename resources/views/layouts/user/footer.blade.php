<footer class="main">
    {{-- <section class="newsletter mb-15">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="position-relative newsletter-inner">
                        <div class="newsletter-content">
                            <h2 class="mb-20">
                                Stay home & get your daily <br />
                                needs from our shop
                            </h2>
                            <p class="mb-45">Start You'r Daily Shopping with <span class="text-brand">Nest Mart</span>
                            </p>
                            <form class="form-subcriber d-flex">
                                <input type="email" placeholder="Your emaill address" />
                                <button class="btn" type="submit">Subscribe</button>
                            </form>
                        </div>
                        <img src="{{ asset('assets/frontend/imgs/banner/banner-13.png') }}" alt="newsletter" />
                    </div>
                </div>
            </div>
        </div>
    </section> --}}
    <section class="featured section-padding">
        <div class="container footer-strip">
            <div class="row">
                <div class="col-lg-3 col-md-4 col-6 mb-1 mb-lg-0">
                    <div class="banner-left-icon d-sm-flex align-items-center wow fadeIn animated">
                        <div class="banner-icon">
                            <img src="{{ asset('assets/frontend/imgs/theme/icons/icon-1.svg') }}" alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title fw-700">Fast Delivery</h3>
                            <p class="fw-500">Safe & reliable transportation</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-1 mb-lg-0">
                    <div class="banner-left-icon d-sm-flex align-items-center wow fadeIn animated">
                        <div class="banner-icon">
                            <img src="{{ asset('assets/frontend/imgs/theme/icons/icon-2.svg') }}" alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title fw-700">Customer First</h3>
                            <p class="fw-500">Your goods, our responsibility</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-1 mb-lg-0">
                    <div class="banner-left-icon d-sm-flex align-items-center wow fadeIn animated">
                        <div class="banner-icon">
                            <img src="{{ asset('assets/frontend/imgs/theme/icons/icon-3.svg') }}" alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title fw-700">Great daily deal</h3>
                            <p class="fw-500">When you sign up</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-4 col-6">
                    <div class="banner-left-icon d-sm-flex align-items-center wow fadeIn animated">
                        <div class="banner-icon">
                            <img src="{{ asset('assets/frontend/imgs/theme/icons/icon-4.svg') }}" alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title fw-700">Wide assortment</h3>
                            <p class="fw-500">Mega Discounts</p>
                        </div>
                    </div>
                </div>
                {{-- <div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
                    <div class="banner-left-icon d-flex align-items-center wow fadeIn animated">
                        <div class="banner-icon">
                            <img src="{{ asset('assets/frontend/imgs/theme/icons/icon-5.svg') }}" alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title">Easy returns</h3>
                            <p>Within 30 days</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6 d-xl-none">
                    <div class="banner-left-icon d-flex align-items-center wow fadeIn animated">
                        <div class="banner-icon">
                            <img src="{{ asset('assets/frontend/imgs/theme/icons/icon-6.svg') }}" alt="" />
                        </div>
                        <div class="banner-text">
                            <h3 class="icon-box-title">Safe delivery</h3>
                            <p>Within 30 days</p>
                        </div>
                    </div>
                </div> --}}
            </div>
        </div>
    </section>
    <section class="section-padding footer-mid pt-0">
        <div class="container footer-mid-inner pt-15 pb-20">
            <div class="row">
                <div class="col">
                    <div class="widget-about font-md mb-md-3 mb-lg-3 mb-xl-0">
                        <div class="logo mb-30">
                            <a href="/" class="mb-15"><img
                                    src="{{ asset('assets/frontend/imgs/theme/logo.png') }}" alt="logo" /></a>
                            <p class="text-heading fw-600 quicksand text-secondary">Welcome to Roll Mills
                                Your trusted destination for high quality Household And Decoration products and
                                solutions!</p>
                        </div>
                        <ul class="contact-infor">
                            <li><img src="{{ asset('assets/frontend/imgs/theme/icons/icon-location.svg') }}"
                                    alt="" /><strong>Address: </strong> <a class="hover-a" href="#">02
                                    Floor, Taheri Complex, Opp.
                                    Gopi Restaurant, Sagwara, India</a></li>
                            <li><img src="{{ asset('assets/frontend/imgs/theme/icons/icon-contact.svg') }}"
                                    alt="" /><strong>Call Us:</strong> <a class="hover-a"
                                    href="tel:+91 87647 66553">+91 87647 66553</a></li>
                            <li><img src="{{ asset('assets/frontend/imgs/theme/icons/icon-email-2.svg') }}"
                                    alt="" /><strong>Email:</strong> <a class="hover-a"
                                    href="mailto:rollmills.rm@gmail.com">rollmills.rm@gmail.com</a></li>
                            {{-- <li><img src="{{ asset('assets/frontend/imgs/theme/icons/icon-clock.svg') }}"
                                        alt="" /><strong>Hours:</strong><span>10:00 - 18:00, Mon - Sat</span></li> --}}
                        </ul>
                        <p class="mb-20 mt-30">Secured Payment Gateways</p>
                        <img class="wow fadeIn animated"
                            src="{{ asset('assets/frontend/imgs/theme/payment-method.png') }}" alt="" />
                    </div>
                </div>
                <div class="footer-link-widget col">
                    <h4 class="widget-title">Company</h4>
                    <ul class="footer-list mb-sm-5 mb-md-0">
                        <li><a href="/about">About Us</a></li>
                        <li><a href="/delivery-information">Delivery Information</a></li>
                        <li><a href="/privacy-policy">Privacy Policy</a></li>
                        <li><a href="/return-policy">Return Policy</a></li>
                        <li><a href="/terms">Terms &amp; Conditions</a></li>
                        <li><a href="/contact">Contact Us</a></li>
                    </ul>
                </div>

                {{-- <div class="footer-link-widget col">
                    <h4 class="widget-title">Corporate</h4>
                    <ul class="footer-list mb-sm-5 mb-md-0">
                        <li><a href="#">Become a Vendor</a></li>
                        <li><a href="#">Affiliate Program</a></li>
                        <li><a href="#">Farm Business</a></li>
                        <li><a href="#">Farm Careers</a></li>
                        <li><a href="#">Our Suppliers</a></li>
                        <li><a href="#">Accessibility</a></li>
                        <li><a href="#">Promotions</a></li>
                    </ul>
                </div> --}}
                <div class="footer-link-widget col">
                    <h4 class="widget-title">Popular</h4>
                    <ul class="footer-list mb-sm-5 mb-md-0">
                        @php
                            $categories = \App\Models\ProductCategory::where('status', 1)
                                ->where('parent_id', null)
                                ->get();
                        @endphp
                        @foreach ($categories as $category)
                            <li><a
                                    href="{{ route('shop') }}?category_id={{ $category->id }}">{{ $category->name }}</a>
                            </li>
                        @endforeach
                    </ul>
                </div>

                <div class="footer-link-widget col">
                    <h4 class="widget-title">Account</h4>
                    <ul class="footer-list mb-sm-5 mb-md-0">
                        @if (Auth::check())
                            <li><a href="/my-account">My Account</a></li>
                        @else
                            <li><a href="" data-bs-toggle="modal" data-bs-target="#loginModal">Sign In</a></li>
                        @endif
                        <li><a href="/cart">View Cart</a></li>
                        <li><a href="/wishlist">My Wishlist</a></li>
                    </ul>
                </div>
                {{-- <div class="footer-link-widget widget-install-app col">
                    <h4 class="widget-title">Install App</h4>
                    <p class="wow fadeIn animated">From App Store or Google Play</p>
                    <div class="download-app">
                        <a href="#" class="hover-up mb-sm-2 mb-lg-0"><img class="active"
                                src="{{ asset('assets/frontend/imgs/theme/app-store.jpg') }}" alt="" /></a>
                        <a href="#" class="hover-up mb-sm-2"><img
                                src="{{ asset('assets/frontend/imgs/theme/google-play.jpg') }}" alt="" /></a>
                    </div>

                </div> --}}
            </div>
        </div>
    </section>
    <div class="container footer-lower pb-30">
        <div class="row align-items-center">
            <div class="col-12 mb-30">
                <div class="footer-bottom"></div>
            </div>
            <div class="col-xl-4 col-lg-6 col-md-6">
                <p class="font-sm mb-0">&copy; 2025, <strong class="text-brand">Roll Mills</strong> - All rights
                    reserved</p>
            </div>
            <div class="col-xl-4 col-lg-6 text-center d-none d-xl-block">
                {{-- <div class="hotline d-lg-inline-flex mr-30">
                    <img src="{{ asset('assets/frontend/imgs/theme/icons/phone-call.svg') }}" alt="hotline" />
                    <p>1900 - 6666<span>Working 8:00 - 22:00</span></p>
                </div> --}}
                <div class="hotline d-lg-inline-flex" style="width: 250px">
                    <img src="{{ asset('assets/frontend/imgs/theme/icons/phone-call.svg') }}" alt="hotline" />
                    <p><a href="tel:+918764766553">+91 87647 66553</a></p>
                </div>
            </div>
            <div class="col-xl-4 col-lg-6 col-md-6 text-end d-none d-md-block">
                <div class="mobile-social-icon">
                    <h6>Follow Us</h6>
                    {{-- <a href="#"><img
                            src="{{ asset('assets/frontend/imgs/theme/icons/icon-facebook-white.svg') }}"
                            alt="" /></a>

                    <a href="#"><img
                            src="{{ asset('assets/frontend/imgs/theme/icons/icon-twitter-white.svg') }}"
                            alt="" /></a> --}}

                    <a href="https://www.instagram.com/roll.mills/" target="_blank"><img
                            src="{{ asset('assets/frontend/imgs/theme/icons/icon-instagram-white.svg') }}"
                            alt="" /></a>

                    {{-- <a href="#"><img
                            src="{{ asset('assets/frontend/imgs/theme/icons/icon-pinterest-white.svg') }}"
                            alt="" /></a>
                    <a href="#"><img
                            src="{{ asset('assets/frontend/imgs/theme/icons/icon-youtube-white.svg') }}"
                            alt="" /></a> --}}
                </div>
            </div>
        </div>
    </div>
</footer>

{{-- Whatsapp Logo --}}
@if (!request()->routeIs('cart'))
    <div class="whatsapp-logo-contact">
        <a href="https://wa.me/918764766553?text=Hi%20RollMills%20Store.">
            <img src="{{ asset('assets/frontend/imgs/icon&images/WhatsApp.svg.webp') }}" target="_blank"
                alt="" class="img-fluid">
        </a>
    </div>
@endif

<!-- Preloader Start -->
<div id="preloader-active">
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
            {{-- <div class="text-center">
                <img src="{{ asset('assets/frontend/imgs/theme/loading.gif') }}" alt="" />
            </div> --}}
            <div class="loader-new"></div>
        </div>
    </div>
</div>
{{-- OwlCarousel --}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" crossorigin="anonymous">
</script>
<!-- Vendor JS-->
<script src="{{ asset('assets/frontend/js/vendor/modernizr-3.6.0.min.js') }}"></script>
<script src="{{ asset('assets/frontend/js/vendor/jquery-3.6.0.min.js') }}"></script>
<script src="{{ asset('assets/frontend/js/vendor/jquery-migrate-3.3.0.min.js') }}"></script>
<script src="{{ asset('assets/frontend/js/vendor/bootstrap.bundle.min.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/slick.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/slider-range.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/jquery.syotimer.min.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/wow.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/perfect-scrollbar.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/magnific-popup.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/select2.min.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/waypoints.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/counterup.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/jquery.countdown.min.js') }}"></script>

<script src="{{ asset('assets/frontend/js/plugins/images-loaded.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/isotope.js') }}"></script>

<!-- this script give error  -->
<script src="{{ asset('assets/frontend/js/plugins/scrollup.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/jquery.vticker-min.js') }}"></script>

<script src="{{ asset('assets/frontend/js/plugins/jquery.theia.sticky.js') }}"></script>
<script src="{{ asset('assets/frontend/js/plugins/jquery.elevatezoom.js') }}"></script>
<!-- Template  JS -->
<script src="{{ asset('assets/frontend/js/main.js') }}"></script>
<script src="{{ asset('assets/frontend/js/range-slider.js') }}"></script>
{{-- <script src="{{ asset('assets/frontend/js/range-slider.min.js') }}"></script> --}}
<script src="{{ asset('assets/frontend/js/shop.js') }}"></script>
<!-- Google Tag Manager -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"
    integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    // Add this to frontend/js/main.js

    $(document).on('click', '.mobile-login-trigger', function() {
        // 1. Remove the class that shows the sidebar
        $(".mobile-header-active").removeClass("sidebar-visible");

        // 2. Remove the class from body that handles the overlay/scroll lock
        $("body").removeClass("mobile-menu-active");

        // 3. (Optional) If your overlay doesn't disappear automatically, hide it
        // $(".body-overlay-1").hide(); 
    });
</script>

<script>
    toastr.options = {
        "timeOut": 1000, // 2 seconds
        "extendedTimeOut": 1000, // fade out delay
    };
    // Listen for the success event
    document.addEventListener('success', event => {
        toastr.success(event.detail.message);
    });

    document.addEventListener('error', event => {
        toastr.error(event.detail.message);
    });

    window.addEventListener('redirectAfterDelay', (event) => {
        const redirectUrl = event.detail[0].url ?? '/';
        setTimeout(() => {
            window.location.href = redirectUrl;
        }, 2000);
    });
</script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        let modalShown = localStorage.getItem("triggeredModal");

        if (!modalShown) {
            // $("#preloader-active").delay(0).fadeOut("slow");
            // $("body").delay(0).css({ overflow: "visible" });
            var login_text = $("#login_condition").text();
            if(login_text == "false"){
                $("#a-div-login-hide").click();
            }
            localStorage.setItem("triggeredModal", "true");
        }
        const copyBtn = document.getElementById("copyCodeBtn");
        const codeText = document.getElementById("couponCode");

        copyBtn.addEventListener("click", function() {
            const code = codeText.textContent.trim();

            navigator.clipboard.writeText(code).then(() => {
                copyBtn.textContent = "Copied!";
                copyBtn.style.color = "#fff";

                setTimeout(() => {
                    copyBtn.textContent = "Copy Code";
                    copyBtn.style.color = "";
                }, 2000);
            }).catch(err => {
                console.error("Failed to copy text: ", err);
            });
        });
    });
</script>

{{-- @livewireScripts() --}}
<script>
    window.addEventListener('item-view', (event) => {
        var data = event.detail[0];
        console.log(data)
        window.dataLayer = window.dataLayer || [];
        dataLayer.push({
            ecommerce: null
        });
        dataLayer.push({
            event: 'view_item',
            ecommerce: {
                currency: 'INR',
                value: data[0].price,
                items: data
            }
        });
    })
    window.addEventListener('add-to-cart', (event) => {
        var data = event.detail[0];
        console.log(data)
        window.dataLayer = window.dataLayer || [];
        dataLayer.push({
            ecommerce: null
        });
        dataLayer.push({
            event: 'add_to_cart',
            ecommerce: {
                items: data
            }
        });
    })
    window.addEventListener('surprise-gift', (event) => {
        window.location.reload();
    })
    window.addEventListener('remove-from-cart', (event) => {
        var data = event.detail[0];
        console.log(data)
        window.dataLayer = window.dataLayer || [];
        dataLayer.push({
            ecommerce: null
        });
        dataLayer.push({
            event: 'add_to_cart',
            ecommerce: {
                currency: 'INR',
                value: data[0].price * data[0].quantity,
                items: data
            }
        });
    })
    window.addEventListener('view-cart', (event) => {
        var data = event.detail[0];
        window.dataLayer = window.dataLayer || [];
        dataLayer.push({
            ecommerce: null
        });
        dataLayer.push({
            event: 'view_cart',
            ecommerce: {
                currency: 'INR',
                value: data.total,
                items: data.items
            }
        });
    })
    window.addEventListener('initiate-checkout', (event) => {
        var data = event.detail[0];
        window.dataLayer = window.dataLayer || [];
        dataLayer.push({
            ecommerce: null
        });
        dataLayer.push({
            event: 'begin_checkout',
            ecommerce: {
                currency: 'INR',
                value: data.total,
                items: data.items
            }
        });
        console.log(dataLayer)
    })
    window.addEventListener('purchase', (event) => {
        var data = event.detail[0];
        window.dataLayer = window.dataLayer || [];
        dataLayer.push({
            ecommerce: null
        });
        dataLayer.push({
            event: 'purchase',
            ecommerce: {
                items: data
            }
        });
        console.log(dataLayer)
    })
    window.addEventListener('add-to-wishlist', (event) => {
        var data = event.detail[0];
        console.log(data)
        window.dataLayer = window.dataLayer || [];
        dataLayer.push({
            ecommerce: null
        });
        dataLayer.push({
            event: 'add_to_wishlist',
            ecommerce: {
                currency: 'INR',
                value: data[0].price,
                items: data
            }
        });
    })
    window.addEventListener('password-show', (event) => {
        document.getElementById('mobileInput').disabled = true;
        document.getElementById('send-otp-button').classList.toggle('d-none');
        document.getElementById('login-button').classList.toggle('d-none');
        document.getElementById('password-login').classList.toggle('d-none');
        if (!document.getElementById('stepOtp').classList.contains('d-none')) {
            document.getElementById('stepOtp').classList.toggle('d-none');
        }
    });

    window.addEventListener('otp-show', (event) => {
        document.getElementById('mobileInput').disabled = true;
        document.getElementById('send-otp-button').classList.toggle('d-none');
        if (!document.getElementById('login-button').classList.contains('d-none')) {
            document.getElementById('login-button').classList.toggle('d-none');
        }
        if (!document.getElementById('password-login').classList.contains('d-none')) {
            document.getElementById('password-login').classList.toggle('d-none');
        }
        document.getElementById('stepOtp').classList.toggle('d-none');
    });
</script>

<script>
    function displayValidationErrors(errors) {
        // Clear any previous error messages
        document.querySelectorAll('.error-message').forEach((elem) => elem.remove());

        // Iterate through the errors object
        for (const [field, messages] of Object.entries(errors)) {
            // Find the input element associated with the field
            const input = document.querySelector(`[name="billing_address.${field}"]`);
            if (input) {
                // Create a new span element for the error message
                const errorMessage = document.createElement('span');
                errorMessage.className = 'error-message'; // Add a class for styling
                errorMessage.style.color = 'red'; // Optional: Add inline styling
                errorMessage.textContent = messages.join(', '); // Join multiple messages if any
                // Insert the error message after the input field
                input.parentNode.insertBefore(errorMessage, input.nextSibling);
                console.log(input.parentNode.insertBefore(errorMessage, input.nextSibling))
            }
        }
    }

    window.addEventListener('validation-errors', (event) => {
        console.log('hi', event)
        var errors = event.detail[0].errors;
        displayValidationErrors(errors);
    })
</script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const applyBtn = document.getElementById('btn-apply-mobile-filters');
        
        if(applyBtn){
            applyBtn.addEventListener('click', function(e) {
                e.preventDefault();

                // 1. Find the checked radio button with name="category_group"
                const selectedRadio = document.querySelector('input[name="category_group"]:checked');
                
                let targetUrl = "/shop";
                
                // 2. Build the URL params
                if (selectedRadio) {
                    const categoryId = selectedRadio.value;
                    targetUrl += `?category_id=${categoryId}`;
                    
                    // Optional: Close the mobile menu immediately for better UX before reload
                    document.querySelector('.mobile-header-active-filter')?.classList.remove('sidebar-visible');
                }

                // 3. Redirect
                window.location.href = targetUrl;
            });
        }
    });
</script>

@stack('scripts')
</body>

</html>
